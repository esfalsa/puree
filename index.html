---
layout: default
title: Home
---

<div class="card my-2">
  <div class="card-body">
    <p class="mb-1">
      <strong>Last updated:</strong> {% include lastupdate.html %}
    </p>
    <p class="mb-1">
      <strong>Last daily dump:</strong> {% include lastdump.html %}
    </p>
    <p class="mb-1"><strong>Regions found:</strong> {% include count.html %}</p>
    <div class="form-check">
      <input
        class="form-check-input"
        type="checkbox"
        value=""
        id="highlight-closing-embassies"
      />
      <label class="form-check-label" for="highlight-closing-embassies">
        Highlight regions with closing embassies
      </label>
    </div>
    <div class="form-check mb-0">
      <input
        class="form-check-input"
        type="checkbox"
        value=""
        id="hide-non-closing-embassies"
      />
      <label class="form-check-label" for="hide-non-closing-embassies">
        Only show regions with closing embassies
      </label>
    </div>

    <div class="mt-2 d-flex flex-column flex-md-row gap-2 gap-md-3">
      <a
        href="_data/detags.csv"
        class="text-decoration-none d-inline-flex flex-row align-items-center gap-1"
        download
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 20 20"
          fill="currentColor"
          width="1em"
          height="1em"
        >
          <path
            fill-rule="evenodd"
            d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z"
            clip-rule="evenodd"
          />
        </svg>
        Download CSV</a
      >
      <a
        href="_data/detags.json"
        class="text-decoration-none d-inline-flex flex-row align-items-center gap-1"
        download
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 20 20"
          fill="currentColor"
          width="1em"
          height="1em"
        >
          <path
            fill-rule="evenodd"
            d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z"
            clip-rule="evenodd"
          />
        </svg>
        Download JSON</a
      >
      <a
        href="_data/detags.xlsx"
        class="text-decoration-none d-inline-flex flex-row align-items-center gap-1"
        download
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 20 20"
          fill="currentColor"
          width="1em"
          height="1em"
        >
          <path
            fill-rule="evenodd"
            d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z"
            clip-rule="evenodd"
          />
        </svg>
        Download Excel Sheet</a
      >
    </div>
  </div>
</div>

<div class="overflow-scroll">
  <table
    class="table table-sm table-hover"
    style="font-variant-numeric: tabular-nums"
  >
    <thead>
      <tr>
        <th scope="col">Region</th>
        <th scope="col">Issues</th>
        <th scope="col">Minor</th>
        <th scope="col">Major</th>
      </tr>
    </thead>
    <tbody id="detags-tbody">
      {% include detags.html %}
    </tbody>
  </table>
</div>

<script>
  document
    .querySelector("#highlight-closing-embassies")
    .addEventListener("change", () => {
      const closingEmbassies = document.querySelectorAll(
        "tr[closing-embassies]"
      );
      closingEmbassies.forEach((region) => {
        region.classList.toggle("table-danger");
      });
    });

  document
    .querySelector("#hide-non-closing-embassies")
    .addEventListener("change", () => {
      const regions = document.querySelectorAll("#detags-tbody tr");
      regions.forEach((region) => {
        if (!region.hasAttribute("closing-embassies")) {
          region.classList.toggle("d-none");
        }
      });
    });
</script>
